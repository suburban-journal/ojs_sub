{"version":3,"file":"editor.js","sources":["../web/editor.js"],"sourcesContent":["import {\n  getQueryStringParam, substanceGlobals\n} from 'substance'\nimport { TextureWebApp, TextureArchive, vfsSaveHook, EditorPackage } from 'substance-texture'\n\nwindow.addEventListener('load', () => {\n  substanceGlobals.DEBUG_RENDERING = true\n  setTimeout(() => {\n    let app = DevWebApp.mount({\n      debug: true,\n      archiveId: getQueryStringParam('archive') || 'kitchen-sink',\n      storageType: getQueryStringParam('storage') || 'vfs',\n      storageUrl: getQueryStringParam('storageUrl') || '/archives'\n    }, window.document.body)\n\n    // put the archive and some more things into global scope, for debugging\n    setTimeout(() => {\n      window.app = app\n    }, 500)\n  })\n})\n\n// This uses a monkey-patched VfsStorageClient that checks immediately\n// if the stored data could be loaded again, or if there is a bug in\n// Textures exporter\nclass DevWebApp extends TextureWebApp {\n  _getStorage (storageType) {\n    let storage = super._getStorage(storageType)\n    if (storageType === 'vfs') {\n      vfsSaveHook(storage, TextureArchive)\n    }\n    return storage\n  }\n\n  _getArticleConfig () {\n    return EditorPackage\n  }\n}\n"],"names":["substanceGlobals","getQueryStringParam","TextureWebApp","vfsSaveHook","TextureArchive","EditorPackage"],"mappings":";;;;;;EAKA,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM;EACtC,EAAEA,0BAAgB,CAAC,eAAe,GAAG,KAAI;EACzC,EAAE,UAAU,CAAC,MAAM;EACnB,IAAI,IAAI,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC;EAC9B,MAAM,KAAK,EAAE,IAAI;EACjB,MAAM,SAAS,EAAEC,6BAAmB,CAAC,SAAS,CAAC,IAAI,cAAc;EACjE,MAAM,WAAW,EAAEA,6BAAmB,CAAC,SAAS,CAAC,IAAI,KAAK;EAC1D,MAAM,UAAU,EAAEA,6BAAmB,CAAC,YAAY,CAAC,IAAI,WAAW;EAClE,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAC;;EAE5B;EACA,IAAI,UAAU,CAAC,MAAM;EACrB,MAAM,MAAM,CAAC,GAAG,GAAG,IAAG;EACtB,KAAK,EAAE,GAAG,EAAC;EACX,GAAG,EAAC;EACJ,CAAC,EAAC;;EAEF;EACA;EACA;EACA,MAAM,SAAS,SAASC,8BAAa,CAAC;EACtC,EAAE,WAAW,CAAC,CAAC,WAAW,EAAE;EAC5B,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,WAAW,EAAC;EAChD,IAAI,IAAI,WAAW,KAAK,KAAK,EAAE;EAC/B,MAAMC,4BAAW,CAAC,OAAO,EAAEC,+BAAc,EAAC;EAC1C,KAAK;EACL,IAAI,OAAO,OAAO;EAClB,GAAG;;EAEH,EAAE,iBAAiB,CAAC,GAAG;EACvB,IAAI,OAAOC,8BAAa;EACxB,GAAG;EACH,CAAC;;;;"}