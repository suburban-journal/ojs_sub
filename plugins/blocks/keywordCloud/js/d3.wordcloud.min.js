!function(){function t(){var n="#wordcloud",e=d3.select(n),o=200,r="sqrt",i=d3.scale.category20b(),a=d3.layout.cloud(),s=null,l=null,u=null,c=void 0;function f(t,n){var e=a.size()[0],r=a.size()[1];l.attr("viewBox","0 0 "+e+" "+r),l.attr("width","100%"),scaling=n?Math.min(e/Math.abs(n[1].x-e/2),e/Math.abs(n[0].x-e/2),r/Math.abs(n[1].y-r/2),r/Math.abs(n[0].y-r/2))/2:1;var s=u.selectAll("text").data(t,function(t){return t.text.toLowerCase()});s.transition().duration(o).attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).style("font-size",function(t){return t.size+"px"}),s.enter().append("text").attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).style("font-size",function(t){return t.size+"px"}).transition().duration(o).style("opacity",.5),s.style("font-family",function(t){return t.font||a.font()||l.style("font-family")}).style("fill",function(t){return i(t.text.toLowerCase())}).text(function(t){return t.text}).style("cursor",function(t,n){if(void 0!==c)return"pointer"}).on("mouseover",function(t,n){void 0!==c&&d3.select(this).transition().style({"font-size":t.size+3+"px",opacity:"1"})}).on("mouseout",function(t,n){void 0!==c&&d3.select(this).transition().style({"font-size":t.size+"px",opacity:"0.5"})}).on("click",function(t,n){void 0!==c&&c(t,n)}),u.transition().attr("transform","translate("+[e>>1,r>>1]+")scale("+scaling+")")}function d(){var t=a.words();s=d3.scale[r]().range([12,32]),t.length&&s.domain([+t[t.length-1].size||1,+t[0].size])}return t.element=function(n){return arguments.length?(e=null==n?"#wordcloud":n,t):e},t.selector=function(o){return arguments.length?(e=d3.select(null==o?n:o),t):n},t.transitionDuration=function(n){return arguments.length?(o="function"==typeof n?n():n,t):o},t.scale=function(n){return arguments.length?(r=null==n?"sqrt":n,t):r},t.fill=function(n){return arguments.length?(i=null==n?d3.scale.category20b():n,t):i},t.onwordclick=function(n){return c=n,t},t.start=function(){return a.fontSize(function(t){return s(+t.size)}).text(function(t){return t.text}).on("end",f),l=e.append("svg"),u=l.append("g").attr("transform","translate("+[a.size()[0]>>1,a.size()[1]>>1]+")"),d(),l.on("resize",function(){d()}),a.start(arguments),t},d3.rebind(t,a,"on","words","size","font","fontStyle","fontWeight","spiral","padding")}"object"==typeof module&&module.exports?module.exports=t:d3.wordcloud=t}();